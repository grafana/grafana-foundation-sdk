{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/Dataquery",
  "definitions": {
    "Dataquery": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "format",
        "connectionArgs",
        "refId",
        "rawSQL"
      ],
      "properties": {
        "format": {
          "$ref": "#/definitions/FormatOptions"
        },
        "connectionArgs": {
          "$ref": "#/definitions/ConnectionArgs"
        },
        "table": {
          "type": "string"
        },
        "column": {
          "type": "string"
        },
        "queryID": {
          "type": "string"
        },
        "refId": {
          "type": "string",
          "description": "A unique identifier for the query within the list of targets.\nIn server side expressions, the refId is used as a variable name to identify results.\nBy default, the UI will assign A-\u003eZ; however setting meaningful names may be useful."
        },
        "hide": {
          "type": "boolean",
          "description": "If hide is set to true, Grafana will filter out the response(s) associated with this query before returning it to the panel."
        },
        "queryType": {
          "type": "string",
          "description": "Specify the query flavor\nTODO make this required and give it a default"
        },
        "rawSQL": {
          "type": "string",
          "default": ""
        },
        "datasource": {
          "$ref": "#/definitions/DataSourceRef",
          "description": "For mixed data sources the selected datasource is on the query level.\nFor non mixed scenarios this is undefined.\nTODO find a better way to do this ^ that's friendly to schema\nTODO this shouldn't be unknown but DataSourceRef | null"
        }
      },
      "description": "Manually converted from https://github.com/grafana/athena-datasource/blob/57ad707147b7a11e9a521a836d6bf9799877e0e3/src/types.ts"
    },
    "defaultKey": {
      "type": "string",
      "const": "__default"
    },
    "ConnectionArgs": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "region": {
          "type": "string",
          "default": "__default"
        },
        "catalog": {
          "type": "string",
          "default": "__default"
        },
        "database": {
          "type": "string",
          "default": "__default"
        },
        "resultReuseEnabled": {
          "type": "boolean",
          "default": false
        },
        "resultReuseMaxAgeInMinutes": {
          "type": "number",
          "default": 60
        }
      }
    },
    "FormatOptions": {
      "enum": [
        0,
        1,
        2
      ]
    },
    "DataSourceRef": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {
          "type": "string",
          "description": "The plugin type-id"
        },
        "uid": {
          "type": "string",
          "description": "Specific datasource instance"
        }
      },
      "description": "Ref to a DataSource instance"
    }
  }
}