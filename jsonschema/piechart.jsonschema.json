{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "PieChartType": {
      "enum": [
        "pie",
        "donut"
      ],
      "type": "string",
      "description": "Select the pie chart display style."
    },
    "PieChartLabels": {
      "enum": [
        "name",
        "value",
        "percent"
      ],
      "type": "string",
      "description": "Select labels to display on the pie chart.\n - Name - The series or field name.\n - Percent - The percentage of the whole.\n - Value - The raw numerical value."
    },
    "PieChartLegendValues": {
      "enum": [
        "value",
        "percent"
      ],
      "type": "string",
      "description": "Select values to display in the legend.\n - Percent: The percentage of the whole.\n - Value: The raw numerical value."
    },
    "PieChartLegendOptions": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "values",
        "displayMode",
        "placement",
        "showLegend",
        "calcs"
      ],
      "properties": {
        "values": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PieChartLegendValues"
          }
        },
        "displayMode": {
          "$ref": "#/definitions/LegendDisplayMode"
        },
        "placement": {
          "$ref": "#/definitions/LegendPlacement"
        },
        "showLegend": {
          "type": "boolean"
        },
        "asTable": {
          "type": "boolean"
        },
        "isVisible": {
          "type": "boolean"
        },
        "sortBy": {
          "type": "string"
        },
        "sortDesc": {
          "type": "boolean"
        },
        "width": {
          "type": "number"
        },
        "calcs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "Options": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "pieType",
        "tooltip",
        "reduceOptions",
        "legend",
        "orientation"
      ],
      "properties": {
        "pieType": {
          "$ref": "#/definitions/PieChartType"
        },
        "displayLabels": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PieChartLabels"
          }
        },
        "tooltip": {
          "$ref": "#/definitions/VizTooltipOptions"
        },
        "reduceOptions": {
          "$ref": "#/definitions/ReduceDataOptions"
        },
        "text": {
          "$ref": "#/definitions/VizTextDisplayOptions"
        },
        "legend": {
          "$ref": "#/definitions/PieChartLegendOptions"
        },
        "orientation": {
          "$ref": "#/definitions/VizOrientation"
        }
      }
    },
    "FieldConfig": {
      "$ref": "#/definitions/HideableFieldConfig"
    },
    "LegendDisplayMode": {
      "enum": [
        "list",
        "table",
        "hidden"
      ],
      "type": "string",
      "description": "TODO docs\nNote: \"hidden\" needs to remain as an option for plugins compatibility"
    },
    "LegendPlacement": {
      "enum": [
        "bottom",
        "right"
      ],
      "type": "string",
      "description": "TODO docs"
    },
    "VizTooltipOptions": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "mode",
        "sort"
      ],
      "properties": {
        "mode": {
          "$ref": "#/definitions/TooltipDisplayMode"
        },
        "sort": {
          "$ref": "#/definitions/SortOrder"
        },
        "maxWidth": {
          "type": "number"
        },
        "maxHeight": {
          "type": "number"
        }
      },
      "description": "TODO docs"
    },
    "ReduceDataOptions": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "calcs"
      ],
      "properties": {
        "values": {
          "type": "boolean",
          "description": "If true show each row value"
        },
        "limit": {
          "type": "number",
          "description": "if showing all values limit"
        },
        "calcs": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "When !values, pick one value for the whole field"
        },
        "fields": {
          "type": "string",
          "description": "Which fields to show.  By default this is only numeric fields"
        }
      },
      "description": "TODO docs"
    },
    "VizTextDisplayOptions": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "titleSize": {
          "type": "number",
          "description": "Explicit title text size"
        },
        "valueSize": {
          "type": "number",
          "description": "Explicit value text size"
        }
      },
      "description": "TODO docs"
    },
    "VizOrientation": {
      "enum": [
        "auto",
        "vertical",
        "horizontal"
      ],
      "type": "string",
      "description": "TODO docs"
    },
    "HideableFieldConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "hideFrom": {
          "$ref": "#/definitions/HideSeriesConfig"
        }
      },
      "description": "TODO docs"
    },
    "TooltipDisplayMode": {
      "enum": [
        "single",
        "multi",
        "none"
      ],
      "type": "string",
      "description": "TODO docs"
    },
    "SortOrder": {
      "enum": [
        "asc",
        "desc",
        "none"
      ],
      "type": "string",
      "description": "TODO docs"
    },
    "HideSeriesConfig": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "tooltip",
        "legend",
        "viz"
      ],
      "properties": {
        "tooltip": {
          "type": "boolean"
        },
        "legend": {
          "type": "boolean"
        },
        "viz": {
          "type": "boolean"
        }
      },
      "description": "TODO docs"
    }
  }
}